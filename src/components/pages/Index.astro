---
import Layout from "@layouts/Layout.astro";
import Button from "@/components/portfolio/Button.astro";
import { getI18n } from "@/i18n";
import { getLangFromUrl, useTranslations, useTranslatePath } from '@i18n/utils';

const { currentLocale } = Astro;
const i18n = getI18n({ currentLocale });
const lang = getLangFromUrl(Astro.url)
const translatePath = useTranslatePath(lang)
---

<Layout title={i18n.INDEX.TITLE}>
    <section>
        <div>
            <h1>
                <span class="blue-text intro-welcome">
                    {i18n.INDEX.INTRO_WELCOME}
                </span>
                <span class="text-swipe-animation">Ivan.</span>
            </h1>

            <h2 class="intro">
                {i18n.INDEX.INTRO}
            </h2>
        </div>

        <p>
            {i18n.INDEX.DESCRIPTION[0]}
            <span class="blue-text" translate="no">React</span>
            {i18n.INDEX.DESCRIPTION[1]}
            <span class="blue-text" translate="no">Astro</span>{currentLocale === "es" ? "," : ""}
            {i18n.INDEX.DESCRIPTION[2]}
        </p>

        <Button href={translatePath("/projects/")} colorScheme="blue" size="lg">
            {i18n.INDEX.BUTTON_CONTENT}
            <i class="ri-arrow-right-s-line"></i></Button
        >
    </section>
</Layout>

<style>
    section {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        width: 75%;
    }

    .intro-welcome {
        font-size: 1rem;
    }

    .intro {
        font-size: 2.25rem;
        color: var(--text);
    }

    h1 {
        font-size: 3.75rem;
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    span {
        width: fit-content;
    }

    @media (max-width: 868px) {
        section {
            flex-direction: column;
            width: 100%;
        }

        h1 {
            font-size: 3rem;
        }

        .intro {
            font-size: 1.5rem;
        }
    }
</style>
